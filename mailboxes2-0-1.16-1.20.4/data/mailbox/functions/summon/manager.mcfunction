#create mailbox

execute as @e[type=bat,name=mailbox_gen_white] at @s if score @p playerfacing matches 1 run function mailbox:summon/white/south
execute as @e[type=bat,name=mailbox_gen_light_gray] at @s if score @p playerfacing matches 1 run function mailbox:summon/light_gray/south
execute as @e[type=bat,name=mailbox_gen_gray] at @s if score @p playerfacing matches 1 run function mailbox:summon/gray/south
execute as @e[type=bat,name=mailbox_gen_black] at @s if score @p playerfacing matches 1 run function mailbox:summon/black/south
execute as @e[type=bat,name=mailbox_gen_brown] at @s if score @p playerfacing matches 1 run function mailbox:summon/brown/south
execute as @e[type=bat,name=mailbox_gen_red] at @s if score @p playerfacing matches 1 run function mailbox:summon/red/south
execute as @e[type=bat,name=mailbox_gen_orange] at @s if score @p playerfacing matches 1 run function mailbox:summon/orange/south
execute as @e[type=bat,name=mailbox_gen_yellow] at @s if score @p playerfacing matches 1 run function mailbox:summon/yellow/south
execute as @e[type=bat,name=mailbox_gen_lime] at @s if score @p playerfacing matches 1 run function mailbox:summon/lime/south
execute as @e[type=bat,name=mailbox_gen_green] at @s if score @p playerfacing matches 1 run function mailbox:summon/green/south
execute as @e[type=bat,name=mailbox_gen_cyan] at @s if score @p playerfacing matches 1 run function mailbox:summon/cyan/south
execute as @e[type=bat,name=mailbox_gen_light_blue] at @s if score @p playerfacing matches 1 run function mailbox:summon/light_blue/south
execute as @e[type=bat,name=mailbox_gen_blue] at @s if score @p playerfacing matches 1 run function mailbox:summon/blue/south
execute as @e[type=bat,name=mailbox_gen_purple] at @s if score @p playerfacing matches 1 run function mailbox:summon/purple/south
execute as @e[type=bat,name=mailbox_gen_magenta] at @s if score @p playerfacing matches 1 run function mailbox:summon/magenta/south
execute as @e[type=bat,name=mailbox_gen_pink] at @s if score @p playerfacing matches 1 run function mailbox:summon/pink/south
execute as @e[type=bat,name=mailbox_gen_white] at @s if score @p playerfacing matches 2 run function mailbox:summon/white/west
execute as @e[type=bat,name=mailbox_gen_light_gray] at @s if score @p playerfacing matches 2 run function mailbox:summon/light_gray/west
execute as @e[type=bat,name=mailbox_gen_gray] at @s if score @p playerfacing matches 2 run function mailbox:summon/gray/west
execute as @e[type=bat,name=mailbox_gen_black] at @s if score @p playerfacing matches 2 run function mailbox:summon/black/west
execute as @e[type=bat,name=mailbox_gen_brown] at @s if score @p playerfacing matches 2 run function mailbox:summon/brown/west
execute as @e[type=bat,name=mailbox_gen_red] at @s if score @p playerfacing matches 2 run function mailbox:summon/red/west
execute as @e[type=bat,name=mailbox_gen_orange] at @s if score @p playerfacing matches 2 run function mailbox:summon/orange/west
execute as @e[type=bat,name=mailbox_gen_yellow] at @s if score @p playerfacing matches 2 run function mailbox:summon/yellow/west
execute as @e[type=bat,name=mailbox_gen_lime] at @s if score @p playerfacing matches 2 run function mailbox:summon/lime/west
execute as @e[type=bat,name=mailbox_gen_green] at @s if score @p playerfacing matches 2 run function mailbox:summon/green/west
execute as @e[type=bat,name=mailbox_gen_cyan] at @s if score @p playerfacing matches 2 run function mailbox:summon/cyan/west
execute as @e[type=bat,name=mailbox_gen_light_blue] at @s if score @p playerfacing matches 2 run function mailbox:summon/light_blue/west
execute as @e[type=bat,name=mailbox_gen_blue] at @s if score @p playerfacing matches 2 run function mailbox:summon/blue/west
execute as @e[type=bat,name=mailbox_gen_purple] at @s if score @p playerfacing matches 2 run function mailbox:summon/purple/west
execute as @e[type=bat,name=mailbox_gen_magenta] at @s if score @p playerfacing matches 2 run function mailbox:summon/magenta/west
execute as @e[type=bat,name=mailbox_gen_pink] at @s if score @p playerfacing matches 2 run function mailbox:summon/pink/west
execute as @e[type=bat,name=mailbox_gen_white] at @s if score @p playerfacing matches 3 run function mailbox:summon/white/north
execute as @e[type=bat,name=mailbox_gen_light_gray] at @s if score @p playerfacing matches 3 run function mailbox:summon/light_gray/north
execute as @e[type=bat,name=mailbox_gen_gray] at @s if score @p playerfacing matches 3 run function mailbox:summon/gray/north
execute as @e[type=bat,name=mailbox_gen_black] at @s if score @p playerfacing matches 3 run function mailbox:summon/black/north
execute as @e[type=bat,name=mailbox_gen_brown] at @s if score @p playerfacing matches 3 run function mailbox:summon/brown/north
execute as @e[type=bat,name=mailbox_gen_red] at @s if score @p playerfacing matches 3 run function mailbox:summon/red/north
execute as @e[type=bat,name=mailbox_gen_orange] at @s if score @p playerfacing matches 3 run function mailbox:summon/orange/north
execute as @e[type=bat,name=mailbox_gen_yellow] at @s if score @p playerfacing matches 3 run function mailbox:summon/yellow/north
execute as @e[type=bat,name=mailbox_gen_lime] at @s if score @p playerfacing matches 3 run function mailbox:summon/lime/north
execute as @e[type=bat,name=mailbox_gen_green] at @s if score @p playerfacing matches 3 run function mailbox:summon/green/north
execute as @e[type=bat,name=mailbox_gen_cyan] at @s if score @p playerfacing matches 3 run function mailbox:summon/cyan/north
execute as @e[type=bat,name=mailbox_gen_light_blue] at @s if score @p playerfacing matches 3 run function mailbox:summon/light_blue/north
execute as @e[type=bat,name=mailbox_gen_blue] at @s if score @p playerfacing matches 3 run function mailbox:summon/blue/north
execute as @e[type=bat,name=mailbox_gen_purple] at @s if score @p playerfacing matches 3 run function mailbox:summon/purple/north
execute as @e[type=bat,name=mailbox_gen_magenta] at @s if score @p playerfacing matches 3 run function mailbox:summon/magenta/north
execute as @e[type=bat,name=mailbox_gen_pink] at @s if score @p playerfacing matches 3 run function mailbox:summon/pink/north
execute as @e[type=bat,name=mailbox_gen_white] at @s if score @p playerfacing matches 4 run function mailbox:summon/white/east
execute as @e[type=bat,name=mailbox_gen_light_gray] at @s if score @p playerfacing matches 4 run function mailbox:summon/light_gray/east
execute as @e[type=bat,name=mailbox_gen_gray] at @s if score @p playerfacing matches 4 run function mailbox:summon/gray/east
execute as @e[type=bat,name=mailbox_gen_black] at @s if score @p playerfacing matches 4 run function mailbox:summon/black/east
execute as @e[type=bat,name=mailbox_gen_brown] at @s if score @p playerfacing matches 4 run function mailbox:summon/brown/east
execute as @e[type=bat,name=mailbox_gen_red] at @s if score @p playerfacing matches 4 run function mailbox:summon/red/east
execute as @e[type=bat,name=mailbox_gen_orange] at @s if score @p playerfacing matches 4 run function mailbox:summon/orange/east
execute as @e[type=bat,name=mailbox_gen_yellow] at @s if score @p playerfacing matches 4 run function mailbox:summon/yellow/east
execute as @e[type=bat,name=mailbox_gen_lime] at @s if score @p playerfacing matches 4 run function mailbox:summon/lime/east
execute as @e[type=bat,name=mailbox_gen_green] at @s if score @p playerfacing matches 4 run function mailbox:summon/green/east
execute as @e[type=bat,name=mailbox_gen_cyan] at @s if score @p playerfacing matches 4 run function mailbox:summon/cyan/east
execute as @e[type=bat,name=mailbox_gen_light_blue] at @s if score @p playerfacing matches 4 run function mailbox:summon/light_blue/east
execute as @e[type=bat,name=mailbox_gen_blue] at @s if score @p playerfacing matches 4 run function mailbox:summon/blue/east
execute as @e[type=bat,name=mailbox_gen_purple] at @s if score @p playerfacing matches 4 run function mailbox:summon/purple/east
execute as @e[type=bat,name=mailbox_gen_magenta] at @s if score @p playerfacing matches 4 run function mailbox:summon/magenta/east
execute as @e[type=bat,name=mailbox_gen_pink] at @s if score @p playerfacing matches 4 run function mailbox:summon/pink/east

execute as @e[tag=mailbox] run data modify entity @s Fire set value 100

execute as @e[type=minecraft:armor_stand, tag=mailbox_collector] at @s if block ~ ~-1 ~ air run kill @e[type=minecraft:armor_stand, tag=mailbox, limit=4,sort=nearest]
execute as @e[type=minecraft:armor_stand, tag=mailbox_collector] at @s if block ~ ~-1 ~ air run setblock ~ ~ ~ air

execute as @e[type=minecraft:armor_stand, tag=mailbox_color_white] at @s if block ~ ~-1 ~ air run summon item ~ ~1 ~ {Item:{id:"minecraft:enderman_spawn_egg",Count:1,tag:{display:{Name:'[{"text":"white mailbox","italic":false,"color":"#cfaf9f"}]'}, Enchantments:[{id:"minecraft:none",lvl:1}], EntityTag:{id:"minecraft:bat",CustomName:"\"mailbox_gen_white\"",NoAI:1b,NoGravity:1b,Silent:1,ActiveEffects:[{Id:14,Amplifier:0,Duration:2147483647,ShowParticles:0b}]}}}}
execute as @e[type=minecraft:armor_stand, tag=mailbox_color_light_gray] at @s if block ~ ~-1 ~ air run summon item ~ ~1 ~ {Item:{id:"minecraft:enderman_spawn_egg",Count:1,tag:{display:{Name:'[{"text":"light_gray mailbox","italic":false,"color":"#856a5f"}]'}, Enchantments:[{id:"minecraft:none",lvl:1}], EntityTag:{id:"minecraft:bat",CustomName:"\"mailbox_gen_light_gray\"",NoAI:1b,NoGravity:1b,Silent:1,ActiveEffects:[{Id:14,Amplifier:0,Duration:2147483647,ShowParticles:0b}]}}}}
execute as @e[type=minecraft:armor_stand, tag=mailbox_color_gray] at @s if block ~ ~-1 ~ air run summon item ~ ~1 ~ {Item:{id:"minecraft:enderman_spawn_egg",Count:1,tag:{display:{Name:'[{"text":"gray mailbox","italic":false,"color":"#9f5325"}]'}, Enchantments:[{id:"minecraft:none",lvl:1}], EntityTag:{id:"minecraft:bat",CustomName:"\"mailbox_gen_gray\"",NoAI:1b,NoGravity:1b,Silent:1,ActiveEffects:[{Id:14,Amplifier:0,Duration:2147483647,ShowParticles:0b}]}}}}
execute as @e[type=minecraft:armor_stand, tag=mailbox_color_black] at @s if block ~ ~-1 ~ air run summon item ~ ~1 ~ {Item:{id:"minecraft:enderman_spawn_egg",Count:1,tag:{display:{Name:'[{"text":"black mailbox","italic":false,"color":"#261811"}]'}, Enchantments:[{id:"minecraft:none",lvl:1}], EntityTag:{id:"minecraft:bat",CustomName:"\"mailbox_gen_black\"",NoAI:1b,NoGravity:1b,Silent:1,ActiveEffects:[{Id:14,Amplifier:0,Duration:2147483647,ShowParticles:0b}]}}}}
execute as @e[type=minecraft:armor_stand, tag=mailbox_color_brown] at @s if block ~ ~-1 ~ air run summon item ~ ~1 ~ {Item:{id:"minecraft:enderman_spawn_egg",Count:1,tag:{display:{Name:'[{"text":"brown mailbox","italic":false,"color":"#663333"}]'}, Enchantments:[{id:"minecraft:none",lvl:1}], EntityTag:{id:"minecraft:bat",CustomName:"\"mailbox_gen_brown\"",NoAI:1b,NoGravity:1b,Silent:1,ActiveEffects:[{Id:14,Amplifier:0,Duration:2147483647,ShowParticles:0b}]}}}}
execute as @e[type=minecraft:armor_stand, tag=mailbox_color_red] at @s if block ~ ~-1 ~ air run summon item ~ ~1 ~ {Item:{id:"minecraft:enderman_spawn_egg",Count:1,tag:{display:{Name:'[{"text":"red mailbox","italic":false,"color":"#8f3e2f"}]'}, Enchantments:[{id:"minecraft:none",lvl:1}], EntityTag:{id:"minecraft:bat",CustomName:"\"mailbox_gen_red\"",NoAI:1b,NoGravity:1b,Silent:1,ActiveEffects:[{Id:14,Amplifier:0,Duration:2147483647,ShowParticles:0b}]}}}}
execute as @e[type=minecraft:armor_stand, tag=mailbox_color_orange] at @s if block ~ ~-1 ~ air run summon item ~ ~1 ~ {Item:{id:"minecraft:enderman_spawn_egg",Count:1,tag:{display:{Name:'[{"text":"orange mailbox","italic":false,"color":"#9f5325"}]'}, Enchantments:[{id:"minecraft:none",lvl:1}], EntityTag:{id:"minecraft:bat",CustomName:"\"mailbox_gen_orange\"",NoAI:1b,NoGravity:1b,Silent:1,ActiveEffects:[{Id:14,Amplifier:0,Duration:2147483647,ShowParticles:0b}]}}}}
execute as @e[type=minecraft:armor_stand, tag=mailbox_color_yellow] at @s if block ~ ~-1 ~ air run summon item ~ ~1 ~ {Item:{id:"minecraft:enderman_spawn_egg",Count:1,tag:{display:{Name:'[{"text":"yellow mailbox","italic":false,"color":"#b88323"}]'}, Enchantments:[{id:"minecraft:none",lvl:1}], EntityTag:{id:"minecraft:bat",CustomName:"\"mailbox_gen_yellow\"",NoAI:1b,NoGravity:1b,Silent:1,ActiveEffects:[{Id:14,Amplifier:0,Duration:2147483647,ShowParticles:0b}]}}}}
execute as @e[type=minecraft:armor_stand, tag=mailbox_color_lime] at @s if block ~ ~-1 ~ air run summon item ~ ~1 ~ {Item:{id:"minecraft:enderman_spawn_egg",Count:1,tag:{display:{Name:'[{"text":"lime mailbox","italic":false,"color":"#647231"}]'}, Enchantments:[{id:"minecraft:none",lvl:1}], EntityTag:{id:"minecraft:bat",CustomName:"\"mailbox_gen_lime\"",NoAI:1b,NoGravity:1b,Silent:1,ActiveEffects:[{Id:14,Amplifier:0,Duration:2147483647,ShowParticles:0b}]}}}}
execute as @e[type=minecraft:armor_stand, tag=mailbox_color_green] at @s if block ~ ~-1 ~ air run summon item ~ ~1 ~ {Item:{id:"minecraft:enderman_spawn_egg",Count:1,tag:{display:{Name:'[{"text":"green mailbox","italic":false,"color":"#4a5127"}]'}, Enchantments:[{id:"minecraft:none",lvl:1}], EntityTag:{id:"minecraft:bat",CustomName:"\"mailbox_gen_green\"",NoAI:1b,NoGravity:1b,Silent:1,ActiveEffects:[{Id:14,Amplifier:0,Duration:2147483647,ShowParticles:0b}]}}}}
execute as @e[type=minecraft:armor_stand, tag=mailbox_color_cyan] at @s if block ~ ~-1 ~ air run summon item ~ ~1 ~ {Item:{id:"minecraft:enderman_spawn_egg",Count:1,tag:{display:{Name:'[{"text":"cyan mailbox","italic":false,"color":"#697b80"}]'}, Enchantments:[{id:"minecraft:none",lvl:1}], EntityTag:{id:"minecraft:bat",CustomName:"\"mailbox_gen_cyan\"",NoAI:1b,NoGravity:1b,Silent:1,ActiveEffects:[{Id:14,Amplifier:0,Duration:2147483647,ShowParticles:0b}]}}}}
execute as @e[type=minecraft:armor_stand, tag=mailbox_color_light_blue] at @s if block ~ ~-1 ~ air run summon item ~ ~1 ~ {Item:{id:"minecraft:enderman_spawn_egg",Count:1,tag:{display:{Name:'[{"text":"light_blue mailbox","italic":false,"color":"#757099"}]'}, Enchantments:[{id:"minecraft:none",lvl:1}], EntityTag:{id:"minecraft:bat",CustomName:"\"mailbox_gen_light_blue\"",NoAI:1b,NoGravity:1b,Silent:1,ActiveEffects:[{Id:14,Amplifier:0,Duration:2147483647,ShowParticles:0b}]}}}}
execute as @e[type=minecraft:armor_stand, tag=mailbox_color_blue] at @s if block ~ ~-1 ~ air run summon item ~ ~1 ~ {Item:{id:"minecraft:enderman_spawn_egg",Count:1,tag:{display:{Name:'[{"text":"blue mailbox","italic":false,"color":"#493a59"}]'}, Enchantments:[{id:"minecraft:none",lvl:1}], EntityTag:{id:"minecraft:bat",CustomName:"\"mailbox_gen_blue\"",NoAI:1b,NoGravity:1b,Silent:1,ActiveEffects:[{Id:14,Amplifier:0,Duration:2147483647,ShowParticles:0b}]}}}}
execute as @e[type=minecraft:armor_stand, tag=mailbox_color_purple] at @s if block ~ ~-1 ~ air run summon item ~ ~1 ~ {Item:{id:"minecraft:enderman_spawn_egg",Count:1,tag:{display:{Name:'[{"text":"purple mailbox","italic":false,"color":"#764755"}]'}, Enchantments:[{id:"minecraft:none",lvl:1}], EntityTag:{id:"minecraft:bat",CustomName:"\"mailbox_gen_purple\"",NoAI:1b,NoGravity:1b,Silent:1,ActiveEffects:[{Id:14,Amplifier:0,Duration:2147483647,ShowParticles:0b}]}}}}
execute as @e[type=minecraft:armor_stand, tag=mailbox_color_magenta] at @s if block ~ ~-1 ~ air run summon item ~ ~1 ~ {Item:{id:"minecraft:enderman_spawn_egg",Count:1,tag:{display:{Name:'[{"text":"magenta mailbox","italic":false,"color":"#93576c"}]'}, Enchantments:[{id:"minecraft:none",lvl:1}], EntityTag:{id:"minecraft:bat",CustomName:"\"mailbox_gen_magenta\"",NoAI:1b,NoGravity:1b,Silent:1,ActiveEffects:[{Id:14,Amplifier:0,Duration:2147483647,ShowParticles:0b}]}}}}
execute as @e[type=minecraft:armor_stand, tag=mailbox_color_pink] at @s if block ~ ~-1 ~ air run summon item ~ ~1 ~ {Item:{id:"minecraft:enderman_spawn_egg",Count:1,tag:{display:{Name:'[{"text":"pink mailbox","italic":false,"color":"#9f4d4d"}]'}, Enchantments:[{id:"minecraft:none",lvl:1}], EntityTag:{id:"minecraft:bat",CustomName:"\"mailbox_gen_pink\"",NoAI:1b,NoGravity:1b,Silent:1,ActiveEffects:[{Id:14,Amplifier:0,Duration:2147483647,ShowParticles:0b}]}}}}

execute as @e[type=minecraft:armor_stand, tag=mailbox_collector] at @s if block ~ ~-1 ~ air run kill @s